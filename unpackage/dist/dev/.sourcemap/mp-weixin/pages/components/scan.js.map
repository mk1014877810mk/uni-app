{"version":3,"sources":["webpack:///D:/Kun Meng/HBuilderProjects/tour/pages/components/scan.vue","webpack:///D:/Kun Meng/HBuilderProjects/tour/pages/components/scan.vue?8bae","webpack:///D:/Kun Meng/HBuilderProjects/tour/pages/components/scan.vue?3744","webpack:///D:/Kun Meng/HBuilderProjects/tour/pages/components/scan.vue?6096","webpack:///D:/Kun Meng/HBuilderProjects/tour/pages/components/scan.vue?25f4","webpack:///D:/Kun Meng/HBuilderProjects/tour/pages/components/scan.vue?5705","webpack:///D:/Kun Meng/HBuilderProjects/tour/pages/components/scan.vue?8e60"],"names":["isSuccess","data","e_id","onLoad","options","methods","goScanImg","uni","scanCode","success","res","code","result","oParams","aParams","Array","isArray","split","slice","forEach","el","showModal","title","content","showCancel","navigateTo","url","z_id","showH5Tips","$common","showTips","showAppHandle","chooseImage","count","sizeType","sourceType","filePath","tempFilePaths","console","log","uploadPic","file","showTIps","arSrc","$store","state","arUploadSrc","that","showLoading","uploadFile","name","statusCode","JSON","parse","setTimeout","fail","err","complete","hideLoading","goArScan","props","components"],"mappings":"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","file":"pages/components/scan.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// import myNav from '../components/nav'\nlet isSuccess = false; // 上传图片是否成功\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\te_id: ''\n\t\t}\n\t},\n\tonLoad(options) {\n\t\t// this.e_id = options.e_id;\n\t\t// this.title = options.title;\n\t\t// this.$common.setNavTitle(this.title);\n\t\t// this.getHallInfo();\n\t},\n\tmethods: {\n\t\t// getHallInfo() {\n\t\t// \tthis.$api.getHallInfo({\n\t\t// \t\te_id: this.e_id\n\t\t// \t}).then(res => {\n\t\t// \t\tif (res.status == 1000) {\n\t\t// \t\t\tthis.$common.setNavTitle(res.data.hall_name);\n\t\t// \t\t\tthis.logoSrc = this.$store.state.ajaxUrl + res.data.hall_logo;\n\t\t// \t\t}\n\t\t// \t}).catch(err => {\n\t\t// \t\tconsole.log('展厅信息获取失败');\n\t\t// \t})\n\t\t// },\n\n\t\tgoScanImg() {\n\t\t\tuni.scanCode({\n\t\t\t\tsuccess: res => {\n\t\t\t\t\t// console.log('二维码数据：', res)\n\t\t\t\t\tthis.code = res.result;\n\t\t\t\t\t// 判断二维码的合法性及是否在当前展馆下扫描其他展馆中的展项\n\t\t\t\t\tlet oParams = {};\n\t\t\t\t\tlet aParams = [];\n\t\t\t\t\tif (res.result && Array.isArray(res.result.split('?'))) {\n\t\t\t\t\t\taParams = res.result.split('?').slice(-1)[0].split('&');\n\t\t\t\t\t\taParams.forEach(el => {\n\t\t\t\t\t\t\toParams[el.split('=')[0]] = el.split('=')[1];\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (!oParams.e_id) {\n\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\ttitle: '温馨提示',\n\t\t\t\t\t\t\t\tcontent: '当前二维码不属于此程序!',\n\t\t\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '../detail/detail?z_id=' + oParams.z_id + '&title=' + this.title\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '温馨提示',\n\t\t\t\t\t\t\tcontent: '当前二维码不属于此程序!',\n\t\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tshowH5Tips() {\n\t\t\tthis.$common.showTips('当前环境下暂时无法使用此功能');\n\t\t},\n\n\t\tshowAppHandle() {\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t\tsourceType: ['camera'], \n\t\t\t\tsuccess: res => {\n\t\t\t\t\tconst filePath = res.tempFilePaths[0]\n\t\t\t\t\tconsole.log(filePath);\n\t\t\t\t\tthis.uploadPic(filePath);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tuploadPic(file) {\n\t\t\tif (!file) return this.$common.showTIps('请确认照片的完整性')\n\t\t\tconst arSrc = this.$store.state.arUploadSrc;\n\t\t\tconst that = this;\n\t\t\tthis.$common.showLoading('识别中...');\n\t\t\tuni.uploadFile({\n\t\t\t\turl: arSrc,\n\t\t\t\tfilePath: file,\n\t\t\t\tname: 'image',\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (res.statusCode == 200) {\n\t\t\t\t\t\tconst data = JSON.parse(res.data);\n\t\t\t\t\t\tconsole.log('result.name:', data.result.name)\n\t\t\t\t\t\tif (data.statusCode == 0) {\n\t\t\t\t\t\t\t// this.$common.showTips('识别成功')\n\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\turl: '../detail/detail?z_id=88&title=扫码详情'\n\t\t\t\t\t\t\t\t// url: '../detail/detail?z_id=' + data.result.name + '&title=扫码详情',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (data.statusCode == 3) {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.$common.showTips('识别失败，请拍识别物正面照片');\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: err => {\n\t\t\t\t\tconsole.log('识别失败:', err);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.$common.showTips('识别失败，请拍识别物正面照片');\n\t\t\t\t\t}, 1000);\n\t\t\t\t},\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tthis.$common.hideLoading();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tgoArScan() {\n\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../scanAR/scanAR'\n\t\t\t})\n\n\n\n\n\n\n\n\t\t}\n\n\t},\n\tprops:['logoSrc','title'],\n\tcomponents: {\n\t\t// myNav\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./scan.vue?vue&type=template&id=c3638062&scoped=true&\"\nimport script from \"./scan.vue?vue&type=script&lang=js&\"\nexport * from \"./scan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./scan.vue?vue&type=style&index=0&id=c3638062&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c3638062\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('c3638062', component.options)\n    } else {\n      api.reload('c3638062', component.options)\n    }\n    module.hot.accept(\"./scan.vue?vue&type=template&id=c3638062&scoped=true&\", function () {\n      api.rerender('c3638062', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"D:/Kun Meng/HBuilderProjects/tour/pages/components/scan.vue\"\nexport default component.exports","import mod from \"-!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./scan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./scan.vue?vue&type=script&lang=js&\"","import mod from \"-!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./scan.vue?vue&type=style&index=0&id=c3638062&scoped=true&lang=css&\"; export default mod; export * from \"-!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./scan.vue?vue&type=style&index=0&id=c3638062&scoped=true&lang=css&\"","export * from \"-!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\软件安装目录\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./scan.vue?vue&type=template&id=c3638062&scoped=true&\""],"sourceRoot":""}