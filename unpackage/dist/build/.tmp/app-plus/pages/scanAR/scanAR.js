(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/scanAR/scanAR"],{"26d9":function(t,n,a){"use strict";a.r(n);var o=a("550b"),e=a("47c4");for(var c in e)"default"!==c&&function(t){a.d(n,t,function(){return e[t]})}(c);a("d37d");var i=a("2877"),s=Object(i["a"])(e["default"],o["a"],o["b"],!1,null,"171039bc",null);n["default"]=s.exports},"47c4":function(t,n,a){"use strict";a.r(n);var o=a("9416"),e=a.n(o);for(var c in o)"default"!==c&&function(t){a.d(n,t,function(){return o[t]})}(c);n["default"]=e.a},"550b":function(t,n,a){"use strict";var o=function(){var t=this,n=t.$createElement;t._self._c},e=[];a.d(n,"a",function(){return o}),a.d(n,"b",function(){return e})},9416:function(t,n,a){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=!1,o=!0,e={data:function(){return{ctx:"",showButton:!0,msg:"请点击识别图片",scaning:!1}},onLoad:function(){o=!0,a=!1},onReady:function(){var t=this;setTimeout(function(){t.initData()},1e3)},methods:{initData:function(){this.ctx=t.createCameraContext()},error:function(){this.$common.showTips("打开摄像头失败")},takePhoto:function(){var t=this,n=this;console.log("taking photo"," at pages\\scanAR\\scanAR.vue:55"),a||this.ctx.takePhoto({quality:"normal",success:function(n){t.showButton=!1,t.scaning=!0,t.msg="识别中...",t.uploadPic(n.tempImagePath)},fail:function(t){setTimeout(function(){n.takePhoto()},500)}})},uploadPic:function(n,o){var e=this;if(!n)return this.takePhoto();var c=this.$store.state.arUploadSrc,i=this;t.uploadFile({url:c,filePath:n,name:"image",success:function(n){if(200==n.statusCode){var o=JSON.parse(n.data);console.log("result.name:",o.result.name," at pages\\scanAR\\scanAR.vue:84"),0==o.statusCode&&(t.navigateTo({url:"../detail/detail?z_id=88&title=扫码详情"}),e.scaning=!1,a=!0)}},fail:function(t){console.log("upload fail:",t," at pages\\scanAR\\scanAR.vue:96")},complete:function(){console.log("识别完成:",a," at pages\\scanAR\\scanAR.vue:99"),setTimeout(function(){a||(console.log("complete"," at pages\\scanAR\\scanAR.vue:102"),i.takePhoto())},500)}})}},onShow:function(){o||t.navigateBack(),this.msg="请点击识别图片",this.showButton=!0,o=!1},onUnload:function(){o=!0}};n.default=e}).call(this,a("6e42")["default"])},cfb5:function(t,n,a){},d37d:function(t,n,a){"use strict";var o=a("cfb5"),e=a.n(o);e.a}},[["2cb1","common/runtime","common/vendor"]]]);