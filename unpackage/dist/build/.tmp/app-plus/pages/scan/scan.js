(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/scan/scan"],{"08a8":function(t,e,n){"use strict";n.r(e);var o=n("da17"),a=n("a279");for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);n("3fe7");var i=n("2877"),c=Object(i["a"])(a["default"],o["a"],o["b"],!1,null,"d6d5f0d2",null);e["default"]=c.exports},"3fe7":function(t,e,n){"use strict";var o=n("d25d"),a=n.n(o);a.a},a279:function(t,e,n){"use strict";n.r(e);var o=n("bc8a"),a=n.n(o);for(var s in o)"default"!==s&&function(t){n.d(e,t,function(){return o[t]})}(s);e["default"]=a.a},bc8a:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(){return n.e("pages/components/nav").then(n.bind(null,"e590"))},a={data:function(){return{e_id:"",title:"",logoSrc:""}},onLoad:function(t){this.e_id=t.e_id,this.title=t.title,this.$common.setNavTitle(this.title),this.getHallInfo()},methods:{getHallInfo:function(){var t=this;this.$api.getHallInfo({e_id:this.e_id}).then(function(e){1e3==e.status&&(t.$common.setNavTitle(e.data.hall_name),t.logoSrc=t.$store.state.ajaxUrl+e.data.hall_logo)}).catch(function(t){console.log("展厅信息获取失败"," at pages\\scan\\scan.vue:55")})},goScanImg:function(){var e=this;t.scanCode({success:function(n){e.code=n.result;var o={},a=[];if(n.result&&Array.isArray(n.result.split("?"))){if(a=n.result.split("?").slice(-1)[0].split("&"),a.forEach(function(t){o[t.split("=")[0]]=t.split("=")[1]}),!o.e_id)return void t.showModal({title:"温馨提示",content:"当前二维码不属于此程序!",showCancel:!1});t.navigateTo({url:"../detail/detail?z_id="+o.z_id+"&title="+e.title})}else t.showModal({title:"温馨提示",content:"当前二维码不属于此程序!",showCancel:!1})}})},showH5Tips:function(){this.$common.showTips("当前环境下暂时无法使用此功能")},showAppHandle:function(){var e=this;t.chooseImage({count:1,sizeType:["compressed"],sourceType:["camera"],success:function(t){var n=t.tempFilePaths[0];console.log(n," at pages\\scan\\scan.vue:105"),e.uploadPic(n)}})},uploadPic:function(e){var n=this;if(!e)return this.$common.showTIps("请确认照片的完整性");var o=this.$store.state.arUploadSrc;this.$common.showLoading("识别中..."),t.uploadFile({url:o,filePath:e,name:"image",success:function(e){if(200==e.statusCode){var o=JSON.parse(e.data);console.log("result.name:",o.result.name," at pages\\scan\\scan.vue:123"),0==o.statusCode?t.navigateTo({url:"../detail/detail?z_id=88&title=扫码详情"}):3==o.statusCode&&setTimeout(function(){n.$common.showTips("识别失败，请拍识别物正面照片")},1e3)}},fail:function(t){console.log("识别失败:",t," at pages\\scan\\scan.vue:138"),setTimeout(function(){n.$common.showTips("识别失败，请拍识别物正面照片")},1e3)},complete:function(){n.$common.hideLoading()}})},goArScan:function(){this.$common.showTips("当前环境下暂时无法使用此功能")}},components:{myNav:o}};e.default=a}).call(this,n("6e42")["default"])},d25d:function(t,e,n){},da17:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a})}},[["ecb4","common/runtime","common/vendor"]]]);