(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/scan/scan"],{"08a8":function(t,a,e){"use strict";e.r(a);var n=e("988b"),s=e("a279");for(var o in s)"default"!==o&&function(t){e.d(a,t,function(){return s[t]})}(o);e("5e2a");var i=e("2877"),c=Object(i["a"])(s["default"],n["a"],n["b"],!1,null,"6887aa52",null);a["default"]=c.exports},"5e2a":function(t,a,e){"use strict";var n=e("f583"),s=e.n(n);s.a},"988b":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement;t._self._c},s=[];e.d(a,"a",function(){return n}),e.d(a,"b",function(){return s})},a279:function(t,a,e){"use strict";e.r(a);var n=e("bc8a"),s=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(a,t,function(){return n[t]})}(o);a["default"]=s.a},bc8a:function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=function(){return e.e("pages/components/nav").then(e.bind(null,"e590"))},s=!1,o={data:function(){return{e_id:"",title:"",logoSrc:"",path:"初始值",data:"初始值",data1:"初始值",data2:"初始值"}},onLoad:function(t){this.e_id=t.e_id,this.title=t.title,this.$common.setNavTitle(this.title),this.getHallInfo()},methods:{getHallInfo:function(){var t=this;this.$api.getHallInfo({e_id:this.e_id}).then(function(a){1e3==a.status&&(t.$common.setNavTitle(a.data.hall_name),t.logoSrc=t.$store.state.ajaxUrl+a.data.hall_logo)}).catch(function(t){console.log("展厅信息获取失败"," at pages\\scan\\scan.vue:56")})},goScanImg:function(){var a=this;t.scanCode({success:function(e){a.code=e.result;var n={},s=[];if(e.result&&Array.isArray(e.result.split("?"))){if(s=e.result.split("?").slice(-1)[0].split("&"),s.forEach(function(t){n[t.split("=")[0]]=t.split("=")[1]}),!n.e_id)return void t.showModal({title:"温馨提示",content:"当前二维码不属于此程序!",showCancel:!1});t.navigateTo({url:"../detail/detail?z_id="+n.z_id+"&title="+a.title})}else t.showModal({title:"温馨提示",content:"当前二维码不属于此程序!",showCancel:!1})}})},showH5Tips:function(){this.$common.showTips("浏览器环境下无法使用此功能")},showVRTips:function(){this.$common.showTips("app"),this.getAppPic()},getAppPic:function(){var t=this;try{var a=plus.camera.getCamera();this.data=a?"cmr: "+JSON.stringify(a):"没变";var e=a.supportedImageResolutions[0];this.data1=JSON.string(e);var n=a.supportedImageFormats[0];this.data2=JSON.stringify(n),a.captureImage(function(a){t.path="success:"+a},function(a){t.path="fail",t.data="Capture image failed: "+JSON.stringify(a)},{resolution:e,format:n})}catch(s){this.appid="报错了",this.temp="报错啦"}},getPic:function(){var a=this;t.chooseImage({sizeType:["original","compressed"],sourceType:["camera "],success:function(t){console.log("拍照成功",t," at pages\\scan\\scan.vue:146"),s=!1,a.uploadPic(t.tempFilePaths[0],a.getPic)},fail:function(t){console.log("拍照失败：",t," at pages\\scan\\scan.vue:151")}})},uploadPic:function(a,e){t.uploadFile({url:"http://10.0.22.224/librarySide/frontend/web/easyar",filePath:a,name:"image",success:function(t){if(200==t.statusCode){var a=JSON.parse(t.data);0==a.statusCode&&(s=!0,console.log("upload:",t," at pages\\scan\\scan.vue:166"),console.log("upload:",a.result.name," at pages\\scan\\scan.vue:167"))}},fail:function(t){console.log("upload fail:",t," at pages\\scan\\scan.vue:172")},complete:function(){console.log(11111,s," at pages\\scan\\scan.vue:175"),setTimeout(function(){s||(console.log(11111," at pages\\scan\\scan.vue:178"),e&&e())},500)}})}},components:{myNav:n}};a.default=o}).call(this,e("6e42")["default"])},f583:function(t,a,e){}},[["ecb4","common/runtime","common/vendor"]]]);